<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/webslides.css">
    <title>Testing Webslides </title>
</head>
<body>
    <main role="main">
        <article id="webslides" class="vertical">
            <!--Slide 1-->
            <section>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <img src="img/CWFLogo2014-EngRGB [Converted].png" alt="" style="width:500px">
                        </div>
                        <div class="column">
                            <div class="flex-content">
                                <ul class="flexblock specs" style="font-size:1.15em">
                                    <li>
                                        One of Canada’s largest environmental NGOs.
                                    </li>
                                    <li>
                                        “To conserve and inspire the conservation of Canada’s wildlife and habitats for the use and enjoyment for all”.
                                    </li>
                                    <li>
                                        Freshwater, marine, and terrestrial programs.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--Slide 2-->
            <section>
                <span class="background" style="background-image:url('img/salmon2.png'); background-size:cover; margin:0px;"></span>
                <div class="wrap size-50 bg-light" style="background:rgba(255, 255, 255, 0.9)">
                <h4><strong>National Fish Passage Program</strong></h4>
                <p style="font-size:1.15em">An increased focus on connectivity and fish passage:</p>
                    <li style="font-size:1.15em;">
                    Chinook salmon research in Upper Yukon River.
                    </li>
                    <li style="font-size:1.15em;">
                        American eel research and advocacy
                    </li>
                    <li style="font-size:1.15em;">
                        Fish passage advocacy and barrier campaigns
                    </li>
                    <li style="font-size:1.15em;">
                        Watershed Connectivity Remediation Planning framework
                    </li>
                    <li style="font-size:1.15em;">
                        Development of the Canadian Aquatic Barriers Database
                    </li>
                </div>
            </section>
            <!--Slide 3-->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                <h2><strong>Canadian Aquatic Barriers Database</strong></h2>
                <p></p>
                    <li style="font-size:1.15em;">
                    Need comprehensive information source to prioritize important barriers for remediation
                    </li>
                    <li style="font-size:1.15em;">
                        Vision: All of Canada’s barrier and connectivity information in one place – easily and openly accessible!
                    </li>
                    <li style="font-size:1.15em;">
                        CABD = central pillar of tools to support fish passage program
                    </li>
                    <li style="font-size:1.15em;">
                        Potential uses extend beyond CWF’s needs
                    </li>
                    <div class="wrap">
                        <li style="font-size:1.15em;">
                            Freshwater connectivity research
                        </li>
                        <li style="font-size:1.15em;">
                            Hydrological modelling
                        </li>
                        <li style="font-size:1.15em;">
                            Infrastructure inventories
                        </li>
                    </div>
                    <li style="font-size:1.15em;">
                        Launched external engagement process to improve collaboration and partnership
                    </li>
                </div>
            </section>
            <!--Slide 4-->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                <h2><strong>CABD Components</strong></h2>
                <div class="grid align-vertical">
                    <div class="column" style="margin-top:5%">
                        <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li style="font-size:1.15em">
                                Hydrographic network (analysis ready)
                            </li>
                            <li style="font-size:1.15em">
                                Barrier data
                            </li>
                            <li style="font-size:1.15em">
                                Web map and tools
                            </li>
                        </ul>
                        </div>
                    </div>
                    <div class="column">
                        <img src="img/network.png" alt="" style="width:500px; margin: 0% 0% 0% 10%">
                    </div>
                    </div>
                </div>
            </section>
            <!--Slide 5-->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                <h2><strong>Hydrographic Networks</strong></h2>
                <p>
                    <li style="font-size:1.15em;">
                        Needed clean, connected, topologically correct networks for barrier prioritization and other uses
                    </li>
                    <li style="font-size:1.15em;">
                        Engagement with NRCan led to pursual of continued development of CHyF tools
                    </li>
                    <div class="wrap">
                        <li style="font-size:1.15em;">
                            Processing all of Canada
                        </li>
                        <li style="font-size:1.15em;">
                            Compute additional attributes (e.g., stream order, flowpath types)
                        </li>
                        <li style="font-size:1.15em;">
                            Available for download or via API endpoits (vector tile service)
                        </li>
                    </div>
                    <li style="font-size:1.15em;">
                        Ensure work can be shared back to NRCan
                    </li>
                </p>
                </div>
            </section>

            <!-- Slide 1 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>CHyF-2 Data Model</strong></h2>
                    <p class="text-intro" style="font-size:1.15em;">Changes were made to the original CHyF data model and processing tools to serve the purposes of CWF and engaged stakeholders.</p>
                    <ul class="description" style="font-size:1.15em;">
                        <li>
                            <div class="grid sm">
                                <div class="column">
                                    <h4><strong>New Accessory Attributes</strong></h4>
                                    <p>Distinct accessory attribute tables for EFlowpath and ECatchment feature types allow users to add or remove custom attributes, making it easy to adapt the data based on individual needs.</p>
                                </div>
                                <div class="column">
                                    <h5>EFlowpaths</h5>
                                    <p>stream order (x4) | 
                                    gradient | 
                                    permanency | 
                                    stream temp | 
                                    functional & total kms | 
                                    barrier ids | 
                                    catchment area | 
                                    + custom</p>
                                    <h5>ECatchments</h5>
                                    <p>min elevation | 
                                    max elevation | 
                                    mean elevation | 
                                    + custom</p>                                
                                </div>
                            </div>
                        </li>
                        <li style="margin-left:2%;">
                            <div>
                                <h4><strong>Updated Attribute Definitions</strong></h4>
                                <p>Updated definitions for EFlowpath and ECatchment types and subtypes.</p>
                            </div>
                        </li>
                        <li style="margin-left:2%;">
                            <div>
                                <h4><strong>Retaining Hydrographic Names</strong></h4>
                                <p>New names table to track and carry NHN river, stream, and waterbody names through CHyF processing. Linked to CGNDB.</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </section>
            <!-- Slide -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>CHyF-2 Processing Tools</strong></h2>
                    <p class="text-intro" style="font-size:120%">The following changes were made to the original CHyF processing tools.</p>
                    <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li style="font-size:1.15em">
                                <h2>Complex Drainage</h2>
                                <p>
                                    The processing tools were updated to accomodate complex drainage patterns where a network or subnetwork has multiple sinks.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>Database Processing</h2>
                                <p>
                                    Processing tools now run directly in the CHyF database.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>Automated QA/QC</h2>
                                <p>
                                    Scripts were developed to automate a series of qa/qc checks on the input data during pre-processing.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>Parallelized Server Processing</h2>
                                <p>
                                    Investing in parallelized server processing to improve processing capacity and efficiency.
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Slide 2 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h2><strong>Processing Workflow</strong></h2>
                            <p style="font-size:1.15em">
                                The process outlined by this workflow is used to convert NHN hydro network data to the new CHyF-2 data model.
                            </p>
                            <p>
                                <a href="https://cabd-docs.netlify.app/docs_chyf/docs_chyf_process/docs_chyf_process_steps.html" class="button zoomIn">
                                    View the Detailed Steps
                                </a>
                            </p>
                        </div>
                        <div class="column">
                            <img src="img/process_workflow.png" alt="" width="90%">
                        </div>
                    </div>
                </div>
            </section>
            <!-- Slide 3 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                    <p></p>
                    <div class="wrap">
                        <h2><strong>Network Processing Estimates</strong></h2>
                        <ul class="flexblock features">
                            <li style="font-size:1.15em">
                                <div>
                                    <h2>Work Unit</h2>
                                    On average, a single NHN work unit is processed (Flowpath Constructor tools) from start to finish in roughly one hour.                            
                                </div>
                            </li>
                            <li style="font-size:1.15em">
                                <div>
                                    <h2>Province/Territory</h2>
                                    Atlantic Canada	- 145.25 hrs
                                    <p>British Columbia - 260.25 hrs</p>
                                    <p>Ontario - 154.25 hrs</p>
                                    <p>Quebec - 231.25 hrs</p>
                                    <p>Saskatchewan	- 105.25 hrs</p>
                                    <p>Manitoba	- 106.25 hrs</p>
                                    <p>Territories - 313.25 hrs</p>
                            </li>
                                </div>
                            </li>
                        </ul> 
                    </div>
                </div>
            </section>
            <!-- Slide 4 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h2><strong>Vector Tile Service</strong></h2>
                            <p style="font-size:1.15em">
                                The chyf-web vector tile service serves four features to the front-end client: two water features (single line streams and polygonal waterbodies), drainage catchments, and NHN work unit boundaries.
                            </p>
                            <p>
                                <a href="file:///C:/CABD/GitHub/Canadian-Wildlife-Federation/Documentation/docs/build/html/docs_tech/docs_tech_arch/docs_tech_arch_api.html#" class="button zoomIn">
                                    View the CABD API Endpoints
                                </a>
                            </p>
                        </div>
                        <div class="column">
                            <iframe src="file:///C:/CABD/GitHub/Canadian-Wildlife-Federation/Documentation/docs/build/html/docs_tech/docs_tech_arch/docs_tech_arch_tiles.html#chyf-api-end-points" height="700" width="1000" frameborder="0" style="width:700px; box-shadow: 2px 2px 20px 2px grey;"></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Slide 5 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                    <div class="grid vertical-align">
                        <div class="column">
                        <h2><strong>Exporting Hygraphs</strong></h2>
                            <p style="font-size:1.15em">
                                Hydro networks can be exported from the database in hygraph format using an SQL query. 
                                Development planned for the 2022/23 fiscal year includes improving the accessibility of hygraphs by allowing users to download the data via the CABD web mapping tool, or access it through an API call.
                            </p>
                        </div>
                        <div class="column">
                            <pre><span class="code-comment">--flowpaths WITH order properties</span><span class="code-comment" style="color:#CC7F4D">"C:\\...\bin\\ogr2ogr.exe" </span>-f GPKG chyf_export.gpkg -nln flowpath PG:"dbname=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> host=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> port=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> user='<span class="code-comment" style="color:#CC7F4D">xxxx'</span> <span class="code-comment" style="color:#CC7F4D"></span>password</span>=<span class="code-comment" style="color:#3b8dda">'xxxx'" -sql "</span><span class="code-comment" style="color:#3b8dda">select</span> a.id, a.ef_type, ef.name <span class="code-comment" style="color:#3b8dda">as</span> ef_type_name, a.ef_subtype, efsub.name <span class="code-comment" style="color:#3b8dda">as</span> ef_subtype_name, a.rank, a.length, a.name_id, name.name_en, name.name_fr, a.aoi_id, aoi.short_name <span class="code-comment" style="color:#3b8dda">as</span> aoi_name, a.from_nexus_id <span class="code-comment" style="color:#3b8dda">as</span> from_nexus_id, a.to_nexus_id <span class="code-comment" style="color:#3b8dda">as</span> to_nexus_id, a.geometry, ep.graph_id,  ep.strahler_order, ep.hack_order, ep.horton_order, ep.shreve_order, ep.mainstem_id, ep.mainstem_seq  from chyf2.eflowpath a left join chyf2.ef_type_codes ef <span class="code-comment" style="color:#3b8dda">on</span> ef.code = a.ef_type <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.ef_subtype_codes efsub <span class="code-comment" style="color:#3b8dda">on</span> efsub.code = a.ef_subtype <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.names <span class="code-comment" style="color:#3b8dda">name on name</span>.name_id = a.name_id <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.aoi aoi <span class="code-comment" style="color:#3b8dda">on</span> aoi.id = a.aoi_id <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.eflowpath_properties ep <span class="code-comment" style="color:#3b8dda">on</span> ep.id = a.id <span class="code-comment" style="color:#3b8dda">where</span> aoi.short_name = 'xxxx'"
                            </pre>
                        </div>
                    </div>
            </section>
            <!-- Slide -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>Current Plans</strong></h2>
                    <p></p>
                    <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li style="font-size:1.15em">
                                <h2>Complete Coverage</h2>
                                <p>
                                    National coverage for analysis ready hydro networks by early 2023.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>Investing in Catchments</h2>
                                <p>
                                    Further the development of the catchment delineation tools (e.g., ability to break catchments to facilitate up- and downstream tracing from a barrier point).
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>ChyF Services Update</h2>
                                <p>
                                    Update CHyF web services to support real time in-browser processing.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <h2>Linkable Data</h2>
                                <p>
                                    Barrier data will be openly available with the ability to link to other hydrographic data.
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!--Slide 6-->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h2 style="text-align:center"><strong>Canadian Aquatic Barriers Database</strong></h2>
                            <div class="grid vertical-align"> 
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Dams</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +35,000
                                        <img src="img/dam.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Waterfalls</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +25,000
                                        <img src="img/waterfall.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Fishways</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +350
                                        <img src="img/fishway.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                            </div>    
                        </div>
                        <div class="column">
                            <iframe src="https://aquaticbarriers.ca" height="700" width="1000" frameborder="0" style="width:700px; box-shadow: 2px 2px 20px 2px grey;"></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Slide 7 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>Barrier Data</strong></h2>
                    <h3><strong>Release Schedule</strong></h3>
                    <p  style="font-size:1.15em">
                        Barrier features (dams + waterfalls) and fishways are currently being processed with national coverage anticipated by July 2022. Data modelling and acquisition for stream crossings will begin in summer 2022 and data is anticipated to be released for two provinces by April 2023.
                    </p>
                    <p>
                        <img src="img/data_release_timeline.png" alt="" style="box-shadow: 2px 2px 20px 2px grey; padding:2em;">
                    </p>
                </div>
            </section>
            <!-- Slide -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>Possible Opportunities for Collaboration</strong></h2>
                    <p class="text-intro" style="font-size:120%">The following changes were made to the original CHyF processing tools.</p>
                    <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li style="font-size:1.15em">
                                <p>
                                    Merging hydro network data structures.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <p>
                                    Sharing database and API architecture.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <p>
                                    Supplement high-resolution DEM data with processed hydro networks.
                                </p>
                            </li>
                            <li style="font-size:1.15em">
                                <p>
                                    Linking CABD data to CHN.
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Slide -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h2><strong>Contact Information</strong></h2>
                    <p class="text-intro">
                        <h4>Nick Mazany-Wright: <a href="nickm@cwf-fcf.org">nickm@cwf-fcf.org</a></h4>
                        Spatial Ecologist and Project Manager – Canadian Aquatic Barriers Database (CABD) and B.C. Watershed Connectivity Remediation Planning (WCRP)
                    </p>
                    <p class="text-context text-intro" styling>
                        <h4>Alex Laudadio: <a href="alexl@cwf-fcf.org">alexl@cwf-fcf.org</a></h4>
                        Spatial Analyst and Project Coordinator – Canadian Aquatic Barriers Database (CABD)
                    </p>
                </div>
            </section>
        </article>
    </main>

    <script src="js/webslides.js"></script>
    <script>
        window.ws = new WebSlides();
    </script>
</body>
</html>