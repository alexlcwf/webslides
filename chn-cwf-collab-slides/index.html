<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/webslides.css">
    <title>Testing Webslides </title>
</head>
<body>
    <main role="main">
        <article id="webslides" class="vertical">
            <!-- Slide 1 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap size-50 alignleft">
                    <h1><strong>CHyF-2 Data Model & Tools</strong></h1>
                    <p class="text-intro">The following changes were made to the original CHyF data model and processing tools to serve the purposes of CWF and engaged stakeholders.</p>
                    <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li>
                                <h2>Attribute Tables</h2>
                                <p>
                                    New attribute tables for EFlowpaths and ECatchments.
                                </p>
                            </li>
                            <li>
                                <h2>Definitions</h2>
                                <p>
                                    Updated definitions for EFlowpath and ECatchment types and subtypes.
                                </p>
                            </li>
                            <li>
                                <h2>Toponyms</h2>
                                <p>
                                    New names table to track and carry NHN river, stream, and waterbody names through CHyF processing.
                                </p>
                            </li>
                            <li>
                                <h2>Complex Drainage</h2>
                                <p>
                                    The processing tools were updated to accomodate complex drainage patterns where a network or subnetwork has multiple sinks.
                                </p>
                            </li>
                            <li>
                                <h2>Database Processing</h2>
                                <p>
                                    Processing tools now run directly in the CHyF database.
                                </p>
                            </li>
                            <li>
                                <h2>Automated QA/QC</h2>
                                <p>
                                    Scripts were developed to automate a series of qa/qc checks on the input data during pre-processing.
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Slide 2 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h1><strong>Processing Workflow</strong></h1>
                            <p>
                                The process outlined by this workflow is used to convert NHN hydro network data to the new CHyF-2 data model.
                            </p>
                            <p>
                                <a href="https://cabd-docs.netlify.app/docs_chyf/docs_chyf_process/docs_chyf_process_steps.html" class="button zoomIn">
                                    View the Detailed Steps
                                </a>
                            </p>
                        </div>
                        <div class="column">
                            <img src="img/process_workflow.png" alt="" width="90%">
                        </div>
                    </div>
                </div>
            </section>
            <!-- Slide 3 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap size-50 alignleft">
                    <h1><strong>Network Processing Estimates</strong></h1>
                    <div class="bg-white shadow">
                        <ul class="flexblock reasons">
                            <li>
                                <h2>Work Unit Processing</h2>
                                <p>
                                    On average, a single NHN work unit is processed (Flowpath Constructor tools) from start to finish in roughly one hour.
                                </p>
                            </li>
                            <li>
                                <h2>Province/Territory Estimates</h2>
                                <p>
                                    Atlantic Canada	  - 145.25 hrs
                                </p>
                                <p>    
                                    British Columbi   -	260.25 hrs
                                </p>
                                <p>    
                                    Ontario	          - 154.25 hrs
                                </p>
                                <p>
                                    Quebec	          - 231.25 hrs
                                </p>    
                                <p>    
                                    Saskatchewan	  - 105.25 hrs
                                </p>
                                <p>   
                                    Manitoba	      - 106.25 hrs
                                </p> 
                                <p>   
                                    Territories	      - 313.25 hrs
                                </p>
                            </li>
                        </ul>
                    </div>
                </div>
            </section>
            <!-- Slide 4 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h1><strong>Vector Tile Service</strong></h1>
                            <p>
                                The chyf-web vector tile service serves four features to the front-end client: two water features (single line streams and polygonal waterbodies), drainage catchments, and NHN work unit boundaries.
                            </p>
                            <p>
                                <a href="file:///C:/CABD/GitHub/Canadian-Wildlife-Federation/Documentation/docs/build/html/docs_tech/docs_tech_arch/docs_tech_arch_api.html#" class="button zoomIn">
                                    View the CABD API Endpoints
                                </a>
                            </p>
                        </div>
                        <div class="column">
                            <iframe src="file:///C:/CABD/GitHub/Canadian-Wildlife-Federation/Documentation/docs/build/html/docs_tech/docs_tech_arch/docs_tech_arch_tiles.html#chyf-api-end-points" height="700" width="1000" frameborder="0" style="width:700px; box-shadow: 2px 2px 20px 2px grey;"></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <!-- Slide 5 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                    <div class="grid vertical-align">
                        <div class="column">
                        <h1><strong>Exporting Hygraphs</strong></h1>
                            <p>
                                Hydro networks may be exported from the database in hygraph format using an SQL query. 
                                Future development plans for hygraph export to be accessible through the 'Download Data' tab of the CABD web mapping tool.
                            </p>
                        </div>
                        <div class="column">
                            <pre><span class="code-comment">--flowpaths WITH order properties</span><span class="code-comment" style="color:#CC7F4D">"C:\\...\bin\\ogr2ogr.exe" </span>-f GPKG chyf_export.gpkg -nln flowpath PG:"dbname=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> host=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> port=<span class="code-comment" style="color:#CC7F4D">'xxxx'</span> user='<span class="code-comment" style="color:#CC7F4D">xxxx'</span> <span class="code-comment" style="color:#CC7F4D"></span>password</span>=<span class="code-comment" style="color:#3b8dda">'xxxx'" -sql "</span><span class="code-comment" style="color:#3b8dda">select</span> a.id, a.ef_type, ef.name <span class="code-comment" style="color:#3b8dda">as</span> ef_type_name, a.ef_subtype, efsub.name <span class="code-comment" style="color:#3b8dda">as</span> ef_subtype_name, a.rank, a.length, a.name_id, name.name_en, name.name_fr, a.aoi_id, aoi.short_name <span class="code-comment" style="color:#3b8dda">as</span> aoi_name, a.from_nexus_id <span class="code-comment" style="color:#3b8dda">as</span> from_nexus_id, a.to_nexus_id <span class="code-comment" style="color:#3b8dda">as</span> to_nexus_id, a.geometry, ep.graph_id,  ep.strahler_order, ep.hack_order, ep.horton_order, ep.shreve_order, ep.mainstem_id, ep.mainstem_seq  from chyf2.eflowpath a left join chyf2.ef_type_codes ef <span class="code-comment" style="color:#3b8dda">on</span> ef.code = a.ef_type <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.ef_subtype_codes efsub <span class="code-comment" style="color:#3b8dda">on</span> efsub.code = a.ef_subtype <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.names <span class="code-comment" style="color:#3b8dda">name on name</span>.name_id = a.name_id <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.aoi aoi <span class="code-comment" style="color:#3b8dda">on</span> aoi.id = a.aoi_id <span class="code-comment" style="color:#3b8dda">left join</span> chyf2.eflowpath_properties ep <span class="code-comment" style="color:#3b8dda">on</span> ep.id = a.id <span class="code-comment" style="color:#3b8dda">where</span> aoi.short_name = 'xxxx'"
                            </pre>
                        </div>
                    </div>
            </section>
            <!-- Slide 6 -->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <h1><strong>Feature Data</strong></h1>
                    <h3><strong>Release Schedule</strong></h3>
                    <p style="line-height:2em">
                        Barrier features (dams + waterfalls) and fishways are currently being processed with national coverage anticipated by July 2022. Data modelling and acquisition for stream crossings will begin in summer 2022 and data is anticipated to be released for two provinces by April 2023.
                    </p>
                    <p>
                        <img src="img/data_release_timeline.png" alt="" style="box-shadow: 2px 2px 20px 2px grey; padding:2em;">
                    </p>
                </div>
            </section>
            <!--Slide 7-->
            <section>
                <span class="background" style="background-image:url('img/CWFLogo2014-EngRGB [Converted].png')"></span>
                <div class="wrap">
                    <div class="grid vertical-align">
                        <div class="column">
                            <h1 style="text-align:center"><strong>Web Mapping Tool</strong></h1>
                            <div class="grid vertical-align"> 
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Dams</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +35,000
                                        <img src="img/dam.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Waterfalls</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +25,000
                                        <img src="img/waterfall.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                                <div class="column">
                                        <h2 style="text-align:center; font-size: 150%;">Fishways</h2>
                                    <p style="text-align:center; color: #BF5943; font-weight: bold; line-height: 2em;">
                                        +350
                                        <img src="img/fishway.svg" alt="" style="width:100%">
                                    </p>
                                </div>
                            </div>    
                        </div>
                        <div class="column">
                            <iframe src="https://aquaticbarriers.ca" height="700" width="1000" frameborder="0" style="width:700px; box-shadow: 2px 2px 20px 2px grey;"></iframe>
                        </div>
                    </div>
                </div>
            </section>
        </article>
    </main>

    <script src="js/webslides.js"></script>
    <script>
        window.ws = new WebSlides();
    </script>
</body>
</html>